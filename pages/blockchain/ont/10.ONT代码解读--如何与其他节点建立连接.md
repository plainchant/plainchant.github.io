---
title: 10.ONT代码解读--如何与其他节点建立连接
tags: [chorus]
keywords: chorus
sidebar: mydoc_sidebar
permalink: 10.ONT代码解读--如何与其他节点建立连接.html
folder: blockchain/ont
---
[TOC]

#### 网络架构
ONT中的网络模式，是通过config.json中定义的种子节点进行网络的中继和分发，然后通过种子节点维护的网络节点列表进行全网发现的，从网络架构上看，也是一个P2P的网络模式，每个节点都可以单独进行通信。
不过这种模式也是基于局域网才能实现，如果是互联网中，需要有公网IP才能连接上，所以这个问题怎么解决还存疑。

#### 连接流程图
![10-1](./lib/images/blockchain/ont/10-1.png)


图中黑色线为网络通信的指向性线，绿色线为等价的操作连接线。
种子节点在启动时会和配置文件里的其他种子节点先建立连接，后续有其他节点连接时可以先连接其中任何一个种子节点，然后通过第三步从种子节点处拿到网络的其他节点地址并进行连接，就可以和网络中其他节点建立一对一的连接了。
